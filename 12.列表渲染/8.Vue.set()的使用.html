<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Vue监测数据改变的原理</title>
    <script type="text/javascript" src="../js/vue.js"></script>
</head>

<body>
    <div id="root">
        <h1>网站信息：</h1>
        <h2>网站名称：{{name}}</h2>
        <h2>网站地址：{{address}}</h2>
        <h2>网站主人：{{leader}}</h2>
        <hr />
        <h1>学生信息：</h1>
        <button @click="addSex">添加一个性别属性,默认值为男</button>
        <h2>姓名：{{name}}</h2>
        <h2 v-if="students.sex">性别：{{students.sex}}</h2>
        <h2>年龄：真实: {{students.age.rAge}}, 对外: {{students.age.sAge}}</h2>
        <h2>朋友们：</h2>
        <ul>
            <li v-for="(friend, index) in students.friends" :key="index">
                姓名：{{friend.name}} 年龄：{{friend.age}}
            </li>
        </ul>
    </div>

    <script type="text/javascript">
        Vue.config.productionTip = false
        new Vue({
            el: "#root",
            data: {
                name: "百度",
                address: "北京",
                students: {
                    name: "Tom",
                    age: {
                        rAge: 30,
                        sAge: 18
                    },
                    friends: [
                        { name: "Jerry", age: 20 },
                        { name: "Tony", age: 22 },
                    ]
                }
            },
            methods: {
                addSex() {
                    // Vue.set(this.students, 'sex', "男")
                    this.$set(this.students, 'sex', "男")
                }
            },
        })

    </script>
</body>

</html>